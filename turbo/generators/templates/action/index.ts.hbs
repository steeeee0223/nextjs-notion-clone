"use server"

import { {{pascalCase name}}, type {{pascalCase name}}Input } from "@acme/validators";

import { 
    createAuditLog,
    createMutationFetcher, 
    fetchClient, 
    UnauthorizedError, 
    type Action 
} from "~/lib";

const handler: Action<{{pascalCase name}}Input, any> = async (_key, { arg }) => {
    const {} = arg;
    try {
        const { userId } = fetchClient();
        const result = {};
        return result;
    } catch (error) {
        if (error instanceof UnauthorizedError) throw error;
        throw new Error("Failed to {{lowerCase name}}.");
    }
};

export const {{camelCase name}} = createMutationFetcher({{pascalCase name}}, handler);

